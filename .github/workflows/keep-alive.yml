name: Keep Render Service Alive

on:
  schedule:
    # 매 5분마다 실행 (3, 8, 13, 18, 23, 28, 33, 38, 43, 48, 53, 58분)
    # 정시를 피해 GitHub Actions 큐 부하를 회피
    - cron: '3,8,13,18,23,28,33,38,43,48,53,58 * * * *'
  workflow_dispatch: # 수동 실행 가능

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping health check endpoint
        run: |
          curl -X GET -f ${{ secrets.RENDER_SERVICE_URL }}/health || exit 0
          echo "Health check successful"
